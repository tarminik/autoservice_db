## Физическая модель
---

**`customer`**:
| **Название** 	| **Описание**                     	| **Тип данных**  | **Ограничение** |
|--------------	|----------------------------------	|---------------- |---------------- |
| customer_id   | id клиента                        | integer         | PRIMARY KEY     |
| customer_nm   | ФИО клиента                       | varchar(50)     |                 |
| phone_no      | номер телефона клиента            | varchar(20)     |                 |
| tg_username   | имя клиента в телеграмме          | varchar(30)     | NOT NULL        |
| email         | адрес эл. почты клиента           | varchar(50)     |                 |
| sail_pct      | скидка клиента                    | integer         |                 |
| total_sales   | общая сумма, потраченная клиентом | real            |                 |

**`booking`**:
| **Название** 	| **Описание**                     	| **Тип данных**  | **Ограничение** |
|--------------	|----------------------------------	|---------------- |---------------- |
| booking_id    | id записи                         | integer         | PRIMARY KEY     |
| client_id     | id клиента                        | integer         | FOREIGN KEY     |
| session_dttm  | время записи                      | time            | NOT NULL        |

**`sale`**:
| **Название** 	| **Описание**                     	| **Тип данных**  | **Ограничение** |
|--------------	|----------------------------------	|---------------- |---------------- |
| customer_id   | id клиента                        | integer         | FOREIGN KEY     |
| sale_pct      | процент скидки                    | integer         |                 |
| total_sales   | общая сумма, потраченная клиентом | real            |                 |
| history_dttm  | время последнего изменения        | time            | NOT NULL        |

**`car`**:
| **Название** 	| **Описание**                     	| **Тип данных**  | **Ограничение** |
|--------------	|----------------------------------	|---------------- |---------------- |
| car_id        | id автомобиля                     | integer         | PRIMARY KEY     |
| customer_id   | id клиента                        | integer         | FOREIGN KEY     |
| maker         | марка автомобиля                  | varchar(20)     |                 |
| model         | модель автомобиля                 | varchar(20)     |                 |
| year          | год выпуска                       | integer         |                 |
| reg_no        | регистрационный номер             | varchar(20)     |                 |

**`order`**:
| **Название** 	| **Описание**                     	| **Тип данных**  | **Ограничение** |
|--------------	|----------------------------------	|---------------- |---------------- |
| order_id      | id заказа                         | integer         | PRIMARY KEY     |
| car_id        | id автомобиля                     | integer         | FOREIGN KEY     |
| open_dt       | дата открытия заказа              | date            |                 |
| close_dt      | дата закрытия заказа              | date            |                 |
| payment_amt   | сумма заказа                      | real            |                 |
| closed_flg    | заказ завершен/нет                | boolean         |                 |

**`details_in_order`**:
| **Название** 	| **Описание**                     	| **Тип данных**  | **Ограничение** |
|--------------	|----------------------------------	|---------------- |---------------- |
| order_id      | id заказа                         | integer         | FOREIGN KEY     |
| detail_id     | id детали                         | integer         | FOREIGN KEY     |

**`details`**:
| **Название** 	| **Описание**                     	| **Тип данных**  | **Ограничение** |
|--------------	|----------------------------------	|---------------- |---------------- |
| detail_id     | id детали                         | integer         | PRIMARY KEY     |
| maker         | производитель детали              | varchar(20)     |                 |
| detail_cnt    | количество деталей                | integer         |                 |
| price         | цена                              | real            |                 |
| detail_nm     | название детали                   | varchar(20)     |                 |

**`service_in_order`**:
| **Название** 	| **Описание**                     	| **Тип данных**  | **Ограничение** |
|--------------	|----------------------------------	|---------------- |---------------- |
| order_id      | id заказа                         | integer         | FOREIGN KEY     |
| service_id    | id услуги                         | integer         | FOREIGN KEY     |

**`service`**:
| **Название** 	| **Описание**                     	| **Тип данных**  | **Ограничение** |
|--------------	|----------------------------------	|---------------- |---------------- |
| service_id    | id услуги                         | integer         | PRIMARY KEY     |
| service_nm    | название услуги                   | integer         |                 |
| price         | цена                              | real            |                 |